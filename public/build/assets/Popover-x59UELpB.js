import{r as s,j as x}from"./app-CrvLBjS0.js";import{a as ro,g as so,s as W,u as io,b as k,d as ao}from"./DefaultPropsProvider-D6u7zYwI.js";import{i as yo}from"./isHostComponent-DVu5iVWx.js";import{u as Z}from"./useSlot-DH0dZQPu.js";import{M as wo}from"./Modal-CnDghDl8.js";import{P as xo}from"./Paper-WowiQhzd.js";import{o as _}from"./ownerDocument-DW-IO8s5.js";import{o as oo}from"./ownerWindow-HkKU3E4x.js";import{d as Ro}from"./debounce-Be36O1Ab.js";import{u as Eo}from"./TransitionGroupContext-DJijHwun.js";import{G as Co}from"./Grow-DPaBAMiV.js";const Lo=s.createContext({});function To(o){return so("MuiList",o)}ro("MuiList",["root","padding","dense","subheader"]);const Mo=o=>{const{classes:t,disablePadding:n,dense:u,subheader:b}=o;return ao({root:["root",!n&&"padding",u&&"dense",b&&"subheader"]},To,t)},Oo=W("ul",{name:"MuiList",slot:"Root",overridesResolver:(o,t)=>{const{ownerState:n}=o;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:o})=>!o.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:o})=>o.subheader,style:{paddingTop:0}}]}),Vo=s.forwardRef(function(t,n){const u=io({props:t,name:"MuiList"}),{children:b,className:l,component:d="ul",dense:g=!1,disablePadding:h=!1,subheader:E,...C}=u,L=s.useMemo(()=>({dense:g}),[g]),y={...u,component:d,dense:g,disablePadding:h},i=Mo(y);return x.jsx(Lo.Provider,{value:L,children:x.jsxs(Oo,{as:d,className:k(i.root,l),ref:n,ownerState:y,...C,children:[E,b]})})});function So(o){return so("MuiPopover",o)}ro("MuiPopover",["root","paper"]);function to(o,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=o.height/2:t==="bottom"&&(n=o.height),n}function eo(o,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=o.width/2:t==="right"&&(n=o.width),n}function no(o){return[o.horizontal,o.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function j(o){return typeof o=="function"?o():o}const zo=o=>{const{classes:t}=o;return ao({root:["root"],paper:["paper"]},So,t)},jo=W(wo,{name:"MuiPopover",slot:"Root",overridesResolver:(o,t)=>t.root})({}),ko=W(xo,{name:"MuiPopover",slot:"Paper",overridesResolver:(o,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Xo=s.forwardRef(function(t,n){const u=io({props:t,name:"MuiPopover"}),{action:b,anchorEl:l,anchorOrigin:d={vertical:"top",horizontal:"left"},anchorPosition:g,anchorReference:h="anchorEl",children:E,className:C,container:L,elevation:y=8,marginThreshold:i=16,open:f,PaperProps:lo={},slots:co={},slotProps:R={},transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:T=Co,transitionDuration:M="auto",TransitionProps:{onEntering:D,...H}={},disableScrollLock:O=!1,...po}=u,m=(R==null?void 0:R.paper)??lo,S=s.useRef(),z={...u,anchorOrigin:d,anchorReference:h,elevation:y,marginThreshold:i,externalPaperSlotProps:m,transformOrigin:w,TransitionComponent:T,transitionDuration:M,TransitionProps:H},N=zo(z),U=s.useCallback(()=>{if(h==="anchorPosition")return g;const e=j(l),a=(e&&e.nodeType===1?e:_(S.current).body).getBoundingClientRect();return{top:a.top+to(a,d.vertical),left:a.left+eo(a,d.horizontal)}},[l,d.horizontal,d.vertical,g,h]),A=s.useCallback(e=>({vertical:to(e,w.vertical),horizontal:eo(e,w.horizontal)}),[w.horizontal,w.vertical]),$=s.useCallback(e=>{const r={width:e.offsetWidth,height:e.offsetHeight},a=A(r);if(h==="none")return{top:null,left:null,transformOrigin:no(a)};const X=U();let P=X.top-a.vertical,v=X.left-a.horizontal;const Y=P+r.height,q=v+r.width,J=oo(j(l)),K=J.innerHeight-i,Q=J.innerWidth-i;if(i!==null&&P<i){const c=P-i;P-=c,a.vertical+=c}else if(i!==null&&Y>K){const c=Y-K;P-=c,a.vertical+=c}if(i!==null&&v<i){const c=v-i;v-=c,a.horizontal+=c}else if(q>Q){const c=q-Q;v-=c,a.horizontal+=c}return{top:`${Math.round(P)}px`,left:`${Math.round(v)}px`,transformOrigin:no(a)}},[l,h,U,A,i]),[fo,B]=s.useState(f),p=s.useCallback(()=>{const e=S.current;if(!e)return;const r=$(e);r.top!==null&&e.style.setProperty("top",r.top),r.left!==null&&(e.style.left=r.left),e.style.transformOrigin=r.transformOrigin,B(!0)},[$]);s.useEffect(()=>(O&&window.addEventListener("scroll",p),()=>window.removeEventListener("scroll",p)),[l,O,p]);const uo=(e,r)=>{D&&D(e,r),p()},ho=()=>{B(!1)};s.useEffect(()=>{f&&p()}),s.useImperativeHandle(b,()=>f?{updatePosition:()=>{p()}}:null,[f,p]),s.useEffect(()=>{if(!f)return;const e=Ro(()=>{p()}),r=oo(l);return r.addEventListener("resize",e),()=>{e.clear(),r.removeEventListener("resize",e)}},[l,f,p]);let F=M;M==="auto"&&!T.muiSupportAuto&&(F=void 0);const mo=L||(l?_(j(l)).body:void 0),G={slots:co,slotProps:{...R,paper:m}},[go,I]=Z("paper",{elementType:ko,externalForwardedProps:G,additionalProps:{elevation:y,className:k(N.paper,m==null?void 0:m.className),style:fo?m.style:{...m.style,opacity:0}},ownerState:z}),[V,{slotProps:Po,...vo}]=Z("root",{elementType:jo,externalForwardedProps:G,additionalProps:{slotProps:{backdrop:{invisible:!0}},container:mo,open:f},ownerState:z,className:k(N.root,C)}),bo=Eo(S,I.ref);return x.jsx(V,{...vo,...!yo(V)&&{slotProps:Po,disableScrollLock:O},...po,ref:n,children:x.jsx(T,{appear:!0,in:f,onEntering:uo,onExited:ho,timeout:F,...H,children:x.jsx(go,{...I,ref:bo,children:E})})})});export{Lo as L,Xo as P,Vo as a,ko as b};
