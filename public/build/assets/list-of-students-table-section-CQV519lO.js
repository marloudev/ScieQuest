import{e as T,u as f,r as s,j as r}from"./app-BV67h-nK.js";import{a as C}from"./students-thunk-DZduYKKp.js";import{T as S}from"./TextField-Dq4dCNkd.js";import{I as _}from"./InputAdornment-ByjnA76Y.js";import{S as g}from"./Search-BvKqmqJH.js";import{T as y,a as L,b as A,c,d as o,e as v}from"./TableRow-CSu_Lkf2.js";import{P as E}from"./Paper-BjWxK6xJ.js";import"./DefaultPropsProvider-Cxihk_AB.js";import"./useSlot-aHgFsUwI.js";import"./resolveComponentProps-D7biaTe-.js";import"./TransitionGroupContext-KUUP6ruV.js";import"./FormLabel-B6vaLecu.js";import"./utils-C2zGMEn8.js";import"./isMuiElement-ByRTTGPQ.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./useId-CgE3OKZx.js";import"./index-Tpaoaaql.js";import"./Popover-BZNWind8.js";import"./isHostComponent-DVu5iVWx.js";import"./Modal-BXzd59gB.js";import"./ownerWindow-HkKU3E4x.js";import"./ownerDocument-DW-IO8s5.js";import"./emotion-react.browser.esm-BKaEVvGr.js";import"./useTheme-ioNE_C6m.js";import"./utils-N9q1qCNg.js";import"./Portal-D2h7sX59.js";import"./debounce-Be36O1Ab.js";import"./Grow-Bvj-Ol-g.js";import"./useSlotProps-C4QJaGhU.js";import"./useControlled-BT_wVf9x.js";import"./createSvgIcon-8_AHH1lf.js";import"./InputBase-B53Q86l0.js";import"./index-DfvDvI4W.js";import"./extendSxProp-C2Hpqjfb.js";import"./Typography-Ct41cnX5.js";function hi(){const p=T(),{students:e=[]}=f(i=>i.students);f(i=>i.app);const[I,j]=s.useState([]),a=window.location.pathname.split("/")[4];s.useEffect(()=>{a&&p(C(a))},[p,a]),s.useEffect(()=>{if(Array.isArray(e)&&a){const i=e==null?void 0:e.filter(m=>m.teacher_id===a);j(i)}},[e,a]);const[l,u]=s.useState(""),b=i=>u(i.target.value),t=Array.isArray(e)?e.filter(i=>{var h,d,x;const m=`${i==null?void 0:i.fname} ${i==null?void 0:i.lname}`.toLowerCase(),n=((d=(h=i==null?void 0:i.user)==null?void 0:h.email)==null?void 0:d.toLowerCase())||"",w=((x=i==null?void 0:i.student_id)==null?void 0:x.toLowerCase())||"";return m.includes(l.toLowerCase())||n.includes(l.toLowerCase())||w.includes(l.toLowerCase())}):[];return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsx("div",{children:r.jsx(S,{label:"Search",value:l,onChange:b,variant:"outlined",fullWidth:!0,className:"bg-white",sx:{width:"450px"},InputProps:{startAdornment:r.jsx(_,{position:"start",children:r.jsx(g,{})})}})})}),r.jsx(y,{component:E,children:r.jsxs(L,{sx:{minWidth:650},"aria-label":"simple table",children:[r.jsx(A,{children:r.jsxs(c,{children:[r.jsx(o,{children:"Pupil ID"}),r.jsx(o,{children:"Fullname"}),r.jsx(o,{children:"Email"})]})}),r.jsx(v,{children:(t==null?void 0:t.length)===0?r.jsx(c,{children:r.jsx(o,{colSpan:4,align:"center",children:"No students found."})}):t==null?void 0:t.map((i,m)=>{var n;return r.jsxs(c,{children:[r.jsx(o,{children:i==null?void 0:i.student_id}),r.jsxs(o,{children:[i==null?void 0:i.fname," ",i==null?void 0:i.lname]}),r.jsx(o,{children:(n=i==null?void 0:i.user)==null?void 0:n.email})]},m)})})]})})]})}export{hi as default};
