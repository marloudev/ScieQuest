import{r as x,j as e,s as b,h as D}from"./app-hQQaIqU5.js";import{C as M}from"./Close-DqiQwU9A.js";import{R as B}from"./quill.snow-CriauQ0F.js";import{s as R,g as S}from"./booklet-thunk-Bx_oR4IL.js";import{s as A}from"./DefaultPropsProvider-DGkG4Db8.js";import{B as u}from"./Button-B5zkK9pp.js";import{D as O}from"./Dialog-rFQDXUAk.js";import{T as v}from"./Toolbar-DdC9qT8v.js";import{T as _}from"./Typography-n8aOGOnv.js";import{I as Q}from"./IconButton-CXQl7ss7.js";import{F as j,a as g}from"./FormLabel-Bo9nCTbr.js";import{I as L,S as E,F as k,T as c}from"./TextField-Cx_-rlgE.js";import{M as m}from"./MenuItem-CUDpM96L.js";import{C as K}from"./Check-CAXQpdQA.js";import{C as U}from"./CloudUpload-DqhzSDCm.js";import{R as C,F as d,a as p}from"./RadioGroup-YFcI34eA.js";import"./createSvgIcon-B2Dc3dT-.js";import"./identifier-Cub7H1D-.js";import"./examinations-service-D7X7aHsw.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./ButtonBase-DXJdKVuc.js";import"./TransitionGroupContext-DA59C1As.js";import"./useTheme-BmDLKP0i.js";import"./useTheme-dKJMAX5x.js";import"./Modal-8TBxC30i.js";import"./ownerWindow-CO8Ksk3k.js";import"./resolveComponentProps-Cv_Ev_i6.js";import"./useSlot-OqBiJUCa.js";import"./utils-DqHv7OPX.js";import"./Paper-3L1_FB9c.js";import"./useId-BXxeb_Vo.js";import"./index-CFviXNei.js";import"./extendSxProp-Nv2m7Whl.js";import"./utils-6cX49rlX.js";import"./isMuiElement-BYI5QMev.js";import"./react-is.production.min-DUDD-a5e.js";import"./index-wDQk-mXI.js";import"./Popover-BIyBuLQa.js";import"./isHostComponent-DVu5iVWx.js";import"./debounce-Be36O1Ab.js";import"./Grow-CxHK4zwy.js";import"./useSlotProps-BdT7ugWo.js";import"./useControlled-v9PyMnIU.js";import"./InputBase-qc9Hwgww.js";import"./listItemTextClasses-WbJh2JoD.js";import"./SwitchBase-HZFAVZGB.js";function Se(){const[N,f]=x.useState(!1),[l,o]=x.useState({values:[{question:"",answer_key:""}],matches:[{column_a:"",column_b:"",answer_key:""}]}),[a,$]=x.useState({}),[F,h]=x.useState(!1),y=window.location.pathname.split("/")[3];console.log("data",l);const T=()=>{f(!0)},w=(n,s)=>{s!=="backdropClick"&&s!=="escapeKeyDown"&&f(!1)};async function q(n){try{h(!0);const s=await b.dispatch(R({...l,module_id:y,unique:D().format("MMDDYYYYhhmmss")}));s.status==200?(await b.dispatch(S(y)),o({values:[{question:"",answer_key:""}],matches:[{column_a:"",column_b:"",answer_key:""}]}),h(!1),f(!1)):(h(!1),$(s.response.data.errors)),console.log("datass",l)}catch{h(!1)}}const I=A("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1});return e.jsxs(x.Fragment,{children:[e.jsx(u,{variant:"outlined",onClick:T,children:"Create Questionnaire"}),e.jsxs(O,{maxWidth:"lg",fullWidth:!0,open:N,onClose:w,children:[e.jsxs(v,{className:"flex items-center justify-end",children:[e.jsx(_,{sx:{ml:2,flex:1},variant:"h6",component:"div",children:"Create Questionnaire"}),e.jsx(Q,{edge:"start",color:"inherit",onClick:w,"aria-label":"close",children:e.jsx(M,{})})]}),e.jsxs(v,{className:"flex-col gap-3 flex items-start justify-start w-full",children:[e.jsxs("div",{className:"w-full flex gap-4 flex-col",children:[e.jsxs(j,{fullWidth:!0,error:!!(a!=null&&a.exam_type),children:[e.jsx(L,{id:"demo-simple-select-label",children:"Exam Type"}),e.jsxs(E,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"type",label:"Exam Type",onChange:n=>o({...l,[n.target.name]:n.target.value}),value:l.type??"",children:[e.jsx(m,{selected:!0,disabled:!0}),e.jsx(m,{value:"Fill In The Blank",children:"Fill In The Blank"}),e.jsx(m,{value:"Multiple Choice",children:"Multiple Choice"}),e.jsx(m,{value:"Matching",children:"Matching"}),e.jsx(m,{value:"Identification",children:"Identification"}),e.jsx(m,{value:"True Or False",children:"True Or False"})]}),(a==null?void 0:a.type)&&e.jsx(k,{children:a.type})]}),(l.type=="Fill In The Blank"||l.type=="Identification")&&e.jsxs(u,{component:"label",role:void 0,variant:"contained",startIcon:l!=null&&l.file?e.jsx(K,{}):e.jsx(U,{}),children:[l!=null&&l.file?l==null?void 0:l.file.name:"Upload files",e.jsx(I,{name:"file",type:"file",onChange:n=>o({...l,[n.target.name]:URL.createObjectURL(n.target.files[0])}),accept:"image/*"})]}),e.jsxs("div",{className:"bg-white ",children:[(a==null?void 0:a.direction)&&e.jsx("div",{className:"text-red-600",children:a==null?void 0:a.direction}),e.jsx("div",{className:"text-black p-3 font-black",children:"Direction"}),e.jsx(B,{theme:"snow",className:"text-black  h-52",onChange:n=>o({...l,direction:n})})]})]}),e.jsx("div",{className:"flex w-full items-end justify-end",children:e.jsxs("div",{className:"mt-12",children:[(l.type=="Multiple Choice"||l.type=="Fill In The Blank"||l.type=="Identification"||l.type=="True Or False")&&e.jsx(u,{variant:"contained",autoFocus:!0,onClick:()=>o({...l,values:[...l.values,{question:"",answer:"",answer_key:""}]}),children:"add fields"}),l.type=="Matching"&&e.jsx(u,{variant:"contained",autoFocus:!0,onClick:()=>o({...l,matches:[...l.matches,{column_a:"",column_b:"",answer_key:""}]}),children:"add fields"})]})}),l.type=="True Or False"&&l.values.map((n,s)=>e.jsxs("div",{className:"flex flex-col gap-4 w-full border-b pb-4",children:[e.jsx("div",{className:"flex items-center justify-between w-full",children:s!=0&&e.jsx("div",{className:"flex items-end justify-end",children:e.jsx(u,{variant:"outlined",color:"error",onClick:()=>o({...l,values:l.values.filter((i,t)=>t!==s)}),children:"Delete Field"})})}),e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx(c,{multiline:!0,rows:3,onChange:i=>o({...l,values:l.values.map((t,r)=>r===s?{...t,question:i.target.value}:t)}),error:!!(a!=null&&a[`question-${s}`]),helperText:(a==null?void 0:a[`question-${s}`])??"",value:n.question,name:`question-${s}`,type:"text",label:`Question-${s+1}`,variant:"outlined",className:"w-full"}),e.jsxs(j,{children:[e.jsx(g,{id:"demo-radio-buttons-group-label",children:"Answer Key"}),e.jsxs(C,{row:!0,onChange:i=>o({...l,values:l.values.map((t,r)=>r===s?{...t,answer_key:i.target.value}:t)}),"aria-labelledby":"demo-row-radio-buttons-group-label",name:"answer_key",children:[e.jsx(d,{value:"true",control:e.jsx(p,{}),label:"True"}),e.jsx(d,{value:"false",control:e.jsx(p,{}),label:"False"})]})]})]})]},s)),(l.type=="Fill In The Blank"||l.type=="Identification")&&l.values.map((n,s)=>e.jsxs("div",{className:"flex flex-col gap-4 w-full border-b pb-4",children:[e.jsx("div",{className:"flex items-center justify-between w-full",children:s!=0&&e.jsx("div",{className:"flex items-end justify-end",children:e.jsx(u,{variant:"outlined",color:"error",onClick:()=>o({...l,values:l.values.filter((i,t)=>t!==s)}),children:"Delete Field"})})}),e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx(c,{multiline:!0,rows:2,onChange:i=>o({...l,values:l.values.map((t,r)=>r===s?{...t,question:i.target.value}:t)}),error:!!(a!=null&&a[`question-${s}`]),helperText:(a==null?void 0:a[`question-${s}`])??"",value:n.question,name:`question-${s}`,type:"text",label:`Question-${s+1}`,variant:"outlined",className:"w-full"}),e.jsx(c,{multiline:!0,rows:2,onChange:i=>o({...l,values:l.values.map((t,r)=>r===s?{...t,answer_key:i.target.value}:t)}),error:!!(a!=null&&a[`answer_key-${s}`]),helperText:(a==null?void 0:a[`answer_key-${s}`])??"",value:n.answer_key,name:`answer_key-${s}`,type:"text",label:`Answer Key-${s+1}`,variant:"outlined",className:"w-full"})]})]},s)),l.type=="Matching"&&l.matches.map((n,s)=>e.jsxs("div",{className:"flex flex-col gap-4 w-full border-b pb-4",children:[e.jsx("div",{className:"flex items-center justify-between w-full",children:s!=0&&e.jsx("div",{className:"flex items-end justify-end",children:e.jsx(u,{variant:"outlined",color:"error",onClick:()=>o({...l,matches:l.matches.filter((i,t)=>t!==s)}),children:"Delete Field"})})}),e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx(c,{multiline:!0,rows:2,onChange:i=>o({...l,matches:l.matches.map((t,r)=>r===s?{...t,column_a:i.target.value}:t)}),error:!!(a!=null&&a[`column_a-${s}`]),helperText:(a==null?void 0:a[`column_a-${s}`])??"",value:n.column_a,name:`column_a-${s}`,type:"text",label:`Column A-${s+1}`,variant:"outlined",className:"w-full"}),e.jsx(c,{multiline:!0,rows:2,onChange:i=>o({...l,matches:l.matches.map((t,r)=>r===s?{...t,column_b:i.target.value}:t)}),error:!!(a!=null&&a[`column_b-${s}`]),helperText:(a==null?void 0:a[`column_b-${s}`])??"",value:n.column_b,name:`column_b-${s}`,type:"text",label:`Column B-${s+1}`,variant:"outlined",className:"w-full"}),e.jsx(c,{multiline:!0,rows:2,onChange:i=>o({...l,matches:l.matches.map((t,r)=>r===s?{...t,answer_key:i.target.value}:t)}),error:!!(a!=null&&a[`answer_key-${s}`]),helperText:(a==null?void 0:a[`answer_key-${s}`])??"",value:n.answer_key,name:`answer_key-${s}`,type:"text",label:`Answer Key-${s+1}`,variant:"outlined",className:"w-full"})]})]},s)),l.type=="Multiple Choice"&&l.values.map((n,s)=>e.jsxs("div",{className:"flex flex-col gap-4 w-full border-b pb-4",children:[e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs(j,{error:!!(a!=null&&a.answer_key),children:[e.jsxs(g,{id:`answer-key-${s}`,children:["Answer Key ",s+1]}),e.jsxs(C,{onChange:i=>o({...l,values:l.values.map((t,r)=>r===s?{...t,answer_key:i.target.value}:t)}),row:!0,"aria-labelledby":`answer-key-${s}`,name:"answer_key",value:n.answer_key,children:[e.jsx(d,{value:"A",control:e.jsx(p,{}),label:"A"}),e.jsx(d,{value:"B",control:e.jsx(p,{}),label:"B"}),e.jsx(d,{value:"C",control:e.jsx(p,{}),label:"C"}),e.jsx(d,{value:"D",control:e.jsx(p,{}),label:"D"})]}),(a==null?void 0:a.answer_key)&&e.jsx(k,{children:a.answer_key})]}),s!=0&&e.jsx("div",{className:"flex items-end justify-end",children:e.jsx(u,{variant:"outlined",color:"error",onClick:()=>o({...l,values:l.values.filter((i,t)=>t!==s)}),children:"Delete Field"})})]}),e.jsx(c,{multiline:!0,rows:3,onChange:i=>o({...l,values:l.values.map((t,r)=>r===s?{...t,question:i.target.value}:t)}),error:!!(a!=null&&a[`question-${s}`]),helperText:(a==null?void 0:a[`question-${s}`])??"",value:n.question,name:`question-${s}`,type:"text",label:`Question ${s+1}`,variant:"outlined",className:"w-full"})]},s)),e.jsx("div",{className:"mt-6 flex w-full items-end justify-end",children:e.jsxs(v,{children:[e.jsx(_,{sx:{ml:2,flex:1},variant:"h6",component:"div"}),e.jsx(u,{disabled:F,variant:"contained",autoFocus:!0,onClick:q,children:"save"})]})})]})]})]})}export{Se as default};
