import{r as h,j as e,s as T,h as F,y as q}from"./app-CeLnrvVf.js";import{R as j}from"./quill.snow-B1hbc7Ky.js";import{s as I}from"./booklet-thunk-DU6asJGX.js";import{s as M}from"./DefaultPropsProvider-Cp9sN6tO.js";import{T as w}from"./Toolbar-BhnxiWtw.js";import{T as c,I as D,S as B,F as y}from"./TextField-e0q5jv4R.js";import{F as f,a as b}from"./FormLabel-DrdeWaBq.js";import{M as m}from"./MenuItem-xBxF4WPL.js";import{B as r}from"./Button-jnNfzbz-.js";import{C as A}from"./Check-BufBAigJ.js";import{C as R}from"./CloudUpload-CECcUIxg.js";import{R as g,F as d,a as p}from"./RadioGroup-B27WzGt0.js";import{T as S}from"./Typography-DOVRUIjV.js";import"./examinations-service-aheYKpg6.js";import"./identifier-BstZggeG.js";import"./useSlot-ihAyFKK2.js";import"./resolveComponentProps-Cdfx9XNn.js";import"./TransitionGroupContext-CKrv20ED.js";import"./useId-fIUgd664.js";import"./utils-CdSpNmpk.js";import"./react-is.production.min-DUDD-a5e.js";import"./index-BjaUOzEi.js";import"./Popover-uEwNUOjR.js";import"./useTheme-DfeYvuIr.js";import"./isHostComponent-DVu5iVWx.js";import"./Modal-Do9Q2Anq.js";import"./ownerWindow-CO8Ksk3k.js";import"./ButtonBase-44S42GYV.js";import"./useTheme-CnJGJzPU.js";import"./utils-CjZJudlM.js";import"./Paper-DmqbtBPY.js";import"./debounce-Be36O1Ab.js";import"./Grow-B98DOzgd.js";import"./useSlotProps-Doc7Bszl.js";import"./useControlled-fpUhachu.js";import"./createSvgIcon-DHcXfBgU.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./InputBase-BDrfE7Uv.js";import"./index-DIRkY91z.js";import"./extendSxProp-Bj0iF6PW.js";import"./isMuiElement-BpIspUUo.js";import"./listItemTextClasses-BpYFR0uG.js";function $e(){const[L,k]=h.useState(!1),[a,i]=h.useState({values:[{question:"",answer_key:""}],matches:[{column_a:"",column_b:"",answer_key:""}]}),[l,_]=h.useState({}),[N,x]=h.useState(!1),v=window.location.pathname.split("/")[3];console.log("data",a);async function C(n){try{x(!0);const s=await T.dispatch(I({...a,module_id:v,unique:F().format("MMDDYYYYhhmmss")}));s.status==200?(q.visit(`/administrator/modules/${v}/create`),x(!1),k(!1)):(x(!1),_(s.response.data.errors)),console.log("datass",a)}catch{x(!1)}}const $=M("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1});return e.jsx("div",{className:"bg-white p-3 rounded-md shadow",children:e.jsxs(w,{className:"flex-col gap-3 flex items-start justify-start w-full",children:[e.jsxs("div",{className:"w-full flex flex-col gap-3 mt-6",children:[e.jsx(c,{onChange:n=>i({...a,[n.target.name]:n.target.value}),error:!!(l!=null&&l.subject_matters),helperText:(l==null?void 0:l.subject_matters)??"",value:a.subject_matters,name:"subject_matters",type:"text",label:"Subject Matters",variant:"outlined",className:"w-full"}),e.jsx("div",{className:"text-black  font-black",children:"Discussions"}),e.jsx(j,{theme:"snow",className:"text-black  h-52",onChange:n=>i({...a,discussions:n})}),e.jsx("div",{className:"mt-12",children:e.jsx(c,{onChange:n=>i({...a,[n.target.name]:n.target.value}),error:!!(l!=null&&l.link),helperText:(l==null?void 0:l.link)??"",value:a.link,name:"link",type:"text",label:"Demo Website Link",variant:"outlined",className:"w-full "})})]}),e.jsxs("div",{className:"w-full flex gap-4 flex-col",children:[e.jsxs(f,{fullWidth:!0,error:!!(l!=null&&l.exam_type),children:[e.jsx(D,{id:"demo-simple-select-label",children:"Exam Type"}),e.jsxs(B,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"type",label:"Exam Type",onChange:n=>i({...a,[n.target.name]:n.target.value}),value:a.type??"",children:[e.jsx(m,{selected:!0,disabled:!0}),e.jsx(m,{value:"Fill In The Blank",children:"Fill In The Blank"}),e.jsx(m,{value:"Multiple Choice",children:"Multiple Choice"}),e.jsx(m,{value:"Matching",children:"Matching"}),e.jsx(m,{value:"Identification",children:"Identification"}),e.jsx(m,{value:"True Or False",children:"True Or False"})]}),(l==null?void 0:l.type)&&e.jsx(y,{children:l.type})]}),(a.type=="Fill In The Blank"||a.type=="Identification")&&e.jsxs(r,{component:"label",role:void 0,variant:"contained",startIcon:a!=null&&a.file?e.jsx(A,{}):e.jsx(R,{}),children:[a!=null&&a.file?a==null?void 0:a.file.name:"Upload files",e.jsx($,{name:"file",type:"file",onChange:n=>i({...a,[n.target.name]:URL.createObjectURL(n.target.files[0])}),accept:"image/*"})]}),e.jsxs("div",{className:"bg-white ",children:[(l==null?void 0:l.direction)&&e.jsx("div",{className:"text-red-600",children:l==null?void 0:l.direction}),e.jsx("div",{className:"text-black p-3 font-black",children:"Direction"}),e.jsx(j,{theme:"snow",className:"text-black  h-52",onChange:n=>i({...a,direction:n})})]})]}),e.jsx("div",{className:"flex w-full items-end justify-end",children:e.jsxs("div",{className:"mt-12",children:[(a.type=="Multiple Choice"||a.type=="Fill In The Blank"||a.type=="Identification"||a.type=="True Or False")&&e.jsx(r,{variant:"contained",autoFocus:!0,onClick:()=>i({...a,values:[...a.values,{question:"",answer:"",answer_key:""}]}),children:"add fields"}),a.type=="Matching"&&e.jsx(r,{variant:"contained",autoFocus:!0,onClick:()=>i({...a,matches:[...a.matches,{column_a:"",column_b:"",answer_key:""}]}),children:"add fields"})]})}),a.type=="True Or False"&&a.values.map((n,s)=>e.jsxs("div",{className:"flex flex-col gap-4 w-full border-b pb-4",children:[e.jsx("div",{className:"flex items-center justify-between w-full",children:s!=0&&e.jsx("div",{className:"flex items-end justify-end",children:e.jsx(r,{variant:"outlined",color:"error",onClick:()=>i({...a,values:a.values.filter((o,t)=>t!==s)}),children:"Delete Field"})})}),e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx(c,{multiline:!0,rows:3,onChange:o=>i({...a,values:a.values.map((t,u)=>u===s?{...t,question:o.target.value}:t)}),error:!!(l!=null&&l[`question-${s}`]),helperText:(l==null?void 0:l[`question-${s}`])??"",value:n.question,name:`question-${s}`,type:"text",label:`Question-${s+1}`,variant:"outlined",className:"w-full"}),e.jsxs(f,{children:[e.jsx(b,{id:"demo-radio-buttons-group-label",children:"Answer Key"}),e.jsxs(g,{row:!0,onChange:o=>i({...a,values:a.values.map((t,u)=>u===s?{...t,answer_key:o.target.value}:t)}),"aria-labelledby":"demo-row-radio-buttons-group-label",name:"answer_key",children:[e.jsx(d,{value:"true",control:e.jsx(p,{}),label:"True"}),e.jsx(d,{value:"false",control:e.jsx(p,{}),label:"False"})]})]})]})]},s)),(a.type=="Fill In The Blank"||a.type=="Identification")&&a.values.map((n,s)=>e.jsxs("div",{className:"flex flex-col gap-4 w-full border-b pb-4",children:[e.jsx("div",{className:"flex items-center justify-between w-full",children:s!=0&&e.jsx("div",{className:"flex items-end justify-end",children:e.jsx(r,{variant:"outlined",color:"error",onClick:()=>i({...a,values:a.values.filter((o,t)=>t!==s)}),children:"Delete Field"})})}),e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx(c,{multiline:!0,rows:2,onChange:o=>i({...a,values:a.values.map((t,u)=>u===s?{...t,question:o.target.value}:t)}),error:!!(l!=null&&l[`question-${s}`]),helperText:(l==null?void 0:l[`question-${s}`])??"",value:n.question,name:`question-${s}`,type:"text",label:`Question-${s+1}`,variant:"outlined",className:"w-full"}),e.jsx(c,{multiline:!0,rows:2,onChange:o=>i({...a,values:a.values.map((t,u)=>u===s?{...t,answer_key:o.target.value}:t)}),error:!!(l!=null&&l[`answer_key-${s}`]),helperText:(l==null?void 0:l[`answer_key-${s}`])??"",value:n.answer_key,name:`answer_key-${s}`,type:"text",label:`Answer Key-${s+1}`,variant:"outlined",className:"w-full"})]})]},s)),a.type=="Matching"&&a.matches.map((n,s)=>e.jsxs("div",{className:"flex flex-col gap-4 w-full border-b pb-4",children:[e.jsx("div",{className:"flex items-center justify-between w-full",children:s!=0&&e.jsx("div",{className:"flex items-end justify-end",children:e.jsx(r,{variant:"outlined",color:"error",onClick:()=>i({...a,matches:a.matches.filter((o,t)=>t!==s)}),children:"Delete Field"})})}),e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx(c,{multiline:!0,rows:2,onChange:o=>i({...a,matches:a.matches.map((t,u)=>u===s?{...t,column_a:o.target.value}:t)}),error:!!(l!=null&&l[`column_a-${s}`]),helperText:(l==null?void 0:l[`column_a-${s}`])??"",value:n.column_a,name:`column_a-${s}`,type:"text",label:`Column A-${s+1}`,variant:"outlined",className:"w-full"}),e.jsx(c,{multiline:!0,rows:2,onChange:o=>i({...a,matches:a.matches.map((t,u)=>u===s?{...t,column_b:o.target.value}:t)}),error:!!(l!=null&&l[`column_b-${s}`]),helperText:(l==null?void 0:l[`column_b-${s}`])??"",value:n.column_b,name:`column_b-${s}`,type:"text",label:`Column B-${s+1}`,variant:"outlined",className:"w-full"}),e.jsx(c,{multiline:!0,rows:2,onChange:o=>i({...a,matches:a.matches.map((t,u)=>u===s?{...t,answer_key:o.target.value}:t)}),error:!!(l!=null&&l[`answer_key-${s}`]),helperText:(l==null?void 0:l[`answer_key-${s}`])??"",value:n.answer_key,name:`answer_key-${s}`,type:"text",label:`Answer Key-${s+1}`,variant:"outlined",className:"w-full"})]})]},s)),a.type=="Multiple Choice"&&a.values.map((n,s)=>e.jsxs("div",{className:"flex flex-col gap-4 w-full border-b pb-4",children:[e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs(f,{error:!!(l!=null&&l.answer_key),children:[e.jsxs(b,{id:`answer-key-${s}`,children:["Answer Key ",s+1]}),e.jsxs(g,{onChange:o=>i({...a,values:a.values.map((t,u)=>u===s?{...t,answer_key:o.target.value}:t)}),row:!0,"aria-labelledby":`answer-key-${s}`,name:"answer_key",value:n.answer_key,children:[e.jsx(d,{value:"A",control:e.jsx(p,{}),label:"A"}),e.jsx(d,{value:"B",control:e.jsx(p,{}),label:"B"}),e.jsx(d,{value:"C",control:e.jsx(p,{}),label:"C"}),e.jsx(d,{value:"D",control:e.jsx(p,{}),label:"D"})]}),(l==null?void 0:l.answer_key)&&e.jsx(y,{children:l.answer_key})]}),s!=0&&e.jsx("div",{className:"flex items-end justify-end",children:e.jsx(r,{variant:"outlined",color:"error",onClick:()=>i({...a,values:a.values.filter((o,t)=>t!==s)}),children:"Delete Field"})})]}),e.jsx(c,{multiline:!0,rows:3,onChange:o=>i({...a,values:a.values.map((t,u)=>u===s?{...t,question:o.target.value}:t)}),error:!!(l!=null&&l[`question-${s}`]),helperText:(l==null?void 0:l[`question-${s}`])??"",value:n.question,name:`question-${s}`,type:"text",label:`Question ${s+1}`,variant:"outlined",className:"w-full"})]},s)),e.jsx("div",{className:"mt-6 flex w-full items-end justify-end",children:e.jsxs(w,{children:[e.jsx(S,{sx:{ml:2,flex:1},variant:"h6",component:"div"}),e.jsx(r,{disabled:N,variant:"contained",autoFocus:!0,onClick:C,children:"save"})]})})]})})}export{$e as default};
